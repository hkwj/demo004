<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>
    <style type="text/css">
        * {
            margin: 0;
            padding: 0;
            list-style: none;
        }

        body {
            background: #000;
            text-align:center;
        }

        #c1 {
            background: #fff;
        }
    </style>


</head>

<body>
<canvas width="800" height="500" id="c1"></canvas>


<script>
    var oC = document.querySelector('#c1');
    var gd = oC.getContext('2d');
    var x = 200;
    var y = 100;
    var w = 200;
    var h = 100;
    gd.fillStyle = '#ccc';
    gd.fillRect(x, y, w, h);
    gd.strokeRect(x, y, w, h);

    oC.onmousedown = function (ev) {
        if (ev.clientX >= x+oC.offsetLeft && ev.clientX <= x+w+oC.offsetLeft && ev.clientY >= y+oC.offsetTop && ev.clientY <= y+h+oC.offsetTop) {
            var disX = ev.clientX - x;
            var disY = ev.clientY - y;
            oC.onmousemove = function (ev) {
                gd.clearRect(0, 0, oC.width, oC.height);
                x = ev.clientX - disX;
                y = ev.clientY - disY;
                gd.fillStyle = '#ccc';
                gd.fillRect(x, y, w, h);
                gd.strokeRect(x, y, w, h);
            }
            oC.onmouseup = function () {
                oC.onmousemove = oC.onmouseup = null;
            }
        }
    }
</script>
</body>
</html>